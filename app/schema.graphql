scalar Datetime

type Author {
  name: String
  email: String
}

enum Objecttype {
  Commit
  Tree
  Blob
  Tag
}

# git tags.
type Lightweighttag {
  commit: Commit!
}

type Annotatedtag {
  object: String!
  type: Objecttype!
  name: String!
  tagger: Author!
}

union Tag = Annotatedtag | Lightweighttag

type Head {
  name: String!
  commit: Commit!
}

union Ref = Head | Tag

# git commit data.
type Commit {
  author: Author!
  date: Datetime!
  message: String!
  refs: [Ref]
}

# file info and metadata.
type Info {
  # base name of the file.
  name: String!
  # length in bytes.
  size: Int!
  # if it's a directory.
  isdirectory: Boolean!
  # any flags git stores, currently only executable.
  flags: [Int]!
  # last commit which affected this path.
  lastcommit: Commit!
}
